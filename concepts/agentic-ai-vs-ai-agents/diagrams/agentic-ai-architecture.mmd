flowchart TD
    Goal["ğŸ¯ HIGH-LEVEL GOAL<br/>Keep room comfortable for sleeping"]
    
    subgraph Controller ["ğŸ§  AGENTIC CONTROLLER"]
        GoalUnder["GOAL UNDERSTANDING<br/>22Â°C by 10 PM + maintain"]
    end
    
    Goal --> Controller
    
    Controller --> Perceive["PERCEIVE<br/>ğŸŒ"]
    Controller --> Plan["PLAN<br/>ğŸ“‹"]
    Controller --> Execute["EXECUTE<br/>ğŸš€"]
    
    Perceive <--> Plan
    Plan <--> Execute
    
    Perceive --> Reflect["REFLECT<br/>ğŸ§ "]
    Plan --> Reflect
    Execute --> Reflect
    
    Reflect --> Learn["LEARN<br/>ğŸ“"]
    Learn --> Perceive
    
    subgraph Tools ["ğŸ”§ TOOL INTEGRATIONS"]
        Weather["ğŸŒ¤ï¸ Weather API<br/>Outside: 28Â°C<br/>Cooling: 2-5Â°C/hr"]
        Energy["ğŸ“Š Energy API<br/>$0.247/kWh<br/>Peak: 18-21h"]
        Sleep["ğŸ˜´ Sleep Tracker<br/>Bedtime: 22:00<br/>Quality: 8/10"]
        Prefs["âš™ï¸ User Prefs<br/>Target: 22Â°C<br/>Priority: Balanced"]
    end
    
    Perceive --> Tools
    Plan --> Tools
    
    style Goal fill:#e1f5fe
    style Controller fill:#f3e5f5
    style Perceive fill:#e8f5e8
    style Plan fill:#fff3e0
    style Execute fill:#ffebee
    style Reflect fill:#f1f8e9
    style Learn fill:#fce4ec
    style Tools fill:#f5f5f5
